DEPLOYMENT   ---Roll-in               date:20/02/23 
1.mkdir yaml
.....create pod
2. vim deployment.yaml
{    type: RollingUpdate
    rollingUpdate:
      maxSurge: 25%
      maxUnavailable: 25%  } ...it is a script for roll back
-------   -----   ----      ----   -------
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-deployment
spec:
  replicas: 2
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 25%
      maxUnavailable: 25%
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
      - name: my-container
        image: nginx                   ------------paste here
----------------------------   --------------------
3.kubectl get deployment    .....check deployment

4. kubectl apply -f  <filename>    .........for updating
...........search on Google .......dockerHub nginx  ...{as per u...which image u want ..select as per u}
tags  ......select a image version as per u   -----for eg ... nginx:1.22.1
5. make changes in your file
6. vim deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-deployment
spec:
  replicas: 2
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 25%
      maxUnavailable: 25%
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
      - name: my-container
        image: nginx:1.22.1    ------changes as per u 
# kubectl apply -f deployment.yaml
# kubectl get deployment
7. kubectl rollout history deployment/deployment.name ....i.e my-deployment
------it will shows changes in version
# kubectl rollout status deployment/my-deployment
# kubectl rollout describe deployment/my-deployment

8.  kubectl rollout undo deployment/my-deployment            
--it will roll back to its old version







